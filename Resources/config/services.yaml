services:
    admin.settings_new:
        class: Gekomod\SettingsBundle\Admin\SettingsAdmin
        calls:
            - [ setTemplate, [list, "@@Settings/settings.html.twig"]]
        tags:
            - { name:  sonata.admin, manager_type: orm, group: Ustawienia, label: Ustawienia}
        arguments: [~, Gekomod\SettingsBundle\Entity\Settings, ~]
        public: true

    myproject.twig.toolbox_extension:
        class: Gekomod\SettingsBundle\Twig\PathExtension
        # Inject doctrine as first parameter
        arguments:
          ["@doctrine","@service_container","@twig.loader.filesystem"]
        tags:
          -  { name: twig.extension }

    sonata.block.service.users:
        class: Gekomod\SettingsBundle\Block\UsersBlockService
        arguments:
          [~, "@templating","@doctrine"]
        tags:
        - { name: "sonata.block" }

    settings.new:
        class: Gekomod\SettingsBundle\Service\Settings_Get
        arguments:
          ["@doctrine"]
        public: true
    _defaults: { public: false, autowire: true, autoconfigure: true }
    Gekomod\SettingsBundle\Controller\:
        resource: '%kernel.project_dir%/vendor/gekomod/settings-bundle/Controller'
        autowire: true
        tags: ['controller.service_arguments']
    admin.settingsop:
        class: Gekomod\SettingsBundle\Admin\SettingsopAdmin
        calls:
            - [ setTemplate, [list, "@@SettingsBundle/cipa.html.twig"]]
        tags:
        - { name:  sonata.admin, manager_type: orm, group: Ustawienia, label: Cache}
        arguments:
        - null
        - null
        - Gekomod\SettingsBundle\Controller\SettingsopCRUDController
        public: true
    kernel.listener.debug_listener:
        class: Gekomod\SettingsBundle\EventListener\DebugListener
        arguments:
            ["@service_container","@doctrine"]
        tags:
            - { name: kernel.event_listener, event: kernel.controller, method: onKernelController }